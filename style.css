/* ===== style.css =====
   Arquivo único para todo o projeto.
   - Mantive comentários e variáveis para facilitar futuras alterações.
   - Coloque este arquivo na mesma pasta dos .html.
   - Se quiser ajustar cores do tema, edite as variáveis em :root.
*/

/* -------------------
   Variáveis (fáceis de ajustar)
   ------------------- */
:root{
  /* Modo claro (pastel) */
  --pastel-header: #bfe1ff;
  --pastel-header-dark: #9ec8ff;
  --card-bg: #dcefff;
  --button-primary: #9fc6ff;
  --button-primary-hover: #84b6ff;
  --text-primary: #0b2b4a;
  --accent-blue: #6e9cff;
  --shadow-subtle: rgba(13,30,50,0.06);

  /* Modo escuro (ajustável) */
  --dark-bg: #0b1317;
  --dark-top: #0f1a24;
  --dark-card: #162027;           /* cards mais visíveis que o fundo */
  --dark-card-contrast: #1f2b36;
  --dark-text: #dfeefd;
  --dark-button: #7ea9ff;
  --dark-button-hover: #6a97ea;
}

/* -------------------
   Header / Top bar
   ------------------- */
.top-bar{
  background: linear-gradient(180deg,var(--pastel-header),var(--pastel-header-dark));
  height:70px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 25px;
  border-radius:10px;
  box-shadow:0 2px 8px var(--shadow-subtle);
  transition: background-color .35s ease, box-shadow .35s ease;
}

/* Garante que o botão de voltar posicione relativo à logo-area */
.logo-area {
  position: relative; /* necessário para que .back-btn absolute seja relativo a este container */
  display: flex;
  align-items: center;
  gap: 10px;
}
.logo-area img{ height:45px; width:45px; border-radius:50%; object-fit:cover; }
.logo-area h1{ color:var(--text-primary); font-size:22px; margin:0; }

/* ===== Forçar texto branco no header e nos controles (sempre) ===== */
.top-bar .logo-area h1,
.top-bar .menu-area .login-btn,
.top-bar .menu-icon div,
.top-bar .dark-btn,
.top-bar #dark-mode-toggle {
  color: #ffffff !important;
}

/* Garantir contraste do ícone hamburger (3 linhas) */
.top-bar .menu-icon div {
  background-color: #ffffff !important;
}

/* Ajuste do logo (se for imagem com fundo) */
.top-bar .logo-area img {
  filter: none; /* evita filtros que escureçam a imagem */
}

/* Se quiser manter um texto escuro no modo claro dentro do conteúdo da página, mantenha var(--text-primary).
   Este bloco só afeta o header/top-bar visual. */

.menu-area{ display:flex; align-items:center; gap:15px; }
.login-btn{ background:none; border:none; color:var(--text-primary); font-weight:bold; cursor:pointer; }
.menu-icon{ display:flex; flex-direction:column; justify-content:space-between; width:25px; height:18px; cursor:pointer; }
.menu-icon div{ height:3px; background-color:var(--text-primary); border-radius:2px; }

/* ===== LOGIN POPUP ===== */
#login-card {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

#login-card.show {
  display: flex;
}

.login-content {
  background: var(--card-bg);
  color: var(--text-primary);
  border-radius: 18px;
  padding: 28px;
  box-shadow: 0 4px 18px rgba(0, 0, 0, 0.2);
  width: 330px;
  max-width: 90%;
  text-align: center;
  position: relative;
  animation: fadeInUp 0.35s ease;
}

@keyframes fadeInUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

#close-login {
  position: absolute;
  top: 10px;
  right: 12px;
  border: none;
  background: none;
  font-size: 20px;
  color: var(--text-primary);
  cursor: pointer;
}

#login-card input {
  width: 100%;
  padding: 10px;
  margin: 8px 0;
  border-radius: 8px;
  border: 1px solid #ccc;
}

.divider {
  margin: 12px 0;
  color: #777;
  font-size: 14px;
}

.loginup-btn, .singup-btn, .google-btn {
  background: #9fc6ff;
  border: none;
  color: #1a1a1a;
  border-radius: 50px;
  padding: 10px 16px;
  width: 100%;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s ease;
}

.loginup-btn:hover, .singup-btn:hover, .google-btn:hover {
  background: #82b1ff;
}

.singup-btn:hover {
  background: #f5f5f5;
}

/* --- CORREÇÃO PARA MODO ESCURO --- */
body.dark-mode #login-card {
  background: rgba(0, 0, 0, 0.7);
}

body.dark-mode .login-content {
  background: rgba(25, 25, 25, 0.95);
  color: #fff;
  border: 1px solid rgba(255, 255, 255, 0.15);
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.05);
}

body.dark-mode #login-card input {
  background: rgba(40, 40, 40, 0.9);
  color: #fff;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

body.dark-mode .loginup-btn,
body.dark-mode .singup-btn,
body.dark-mode .google-btn {
  background: #9fc6ff;
  color: #000;
}

body.dark-mode .loginup-btn:hover,
body.dark-mode .singup-btn:hover,
body.dark-mode .google-btn:hover {
  background: #7faeff;
}

/* ===== SIGNUP POPUP ===== */
#signup-card {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1001;
}

#signup-card.show {
  display: flex;
}

.signup-content {
  background: var(--card-bg);
  color: var(--text-primary);
  border-radius: 18px;
  padding: 28px;
  box-shadow: 0 4px 18px rgba(0, 0, 0, 0.2);
  width: 330px;
  max-width: 90%;
  text-align: center;
  position: relative;
  animation: fadeInUp 0.35s ease;
}

.profile-upload {
  margin-bottom: 12px;
  display: flex;
  justify-content: center;
}

/* container do avatar */
.profile-pic-container {
  position: relative;
  width: 100px;
  height: 100px;
}

/* fundo azul */
.profile-pic-background {
  position: absolute;
  top: 0; left: 0;
  width: 100px; height: 100px;
  background-color: #9fc6ff;
  border-radius: 50%;
  box-shadow: 0 6px 18px rgba(0,0,0,0.25);
  z-index: 1;
}

/* imagem do usuário */
#profile-pic-preview {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 92px;
  height: 92px;
  border-radius: 50%;
  object-fit: cover;
  transform: translate(-50%, -50%);
  display: none;
  z-index: 2;
}

/* label com o ícone de câmera */
.upload-label {
  position: absolute;
  top: 0; left: 0;
  width: 100px; height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 3;
  border-radius: 50%;
}

.camera-icon {
  font-size: 28px;
  color: #ffffff;
}

#profile-pic-preview {
  display: block !important;
}


/* ajuste para dark-mode — mantém contraste */
body.dark-mode .profile-pic-background { background-color: #6ea6ff; }
body.dark-mode .camera-icon { color: #fff; }



.camera-icon {
  font-size: 28px;
  color: #fff;
}

#verify-email {
  background: #9fc6ff;
  border: none;
  border-radius: 50px;
  padding: 10px;
  width: 100%;
  margin-bottom: 8px;
  cursor: pointer;
  font-weight: bold;
}

#verify-email:hover {
  background: #8bb9ff;
}

body.dark-mode .signup-content {
  background: rgba(25, 25, 25, 0.95);
  color: #fff;
  border: 1px solid rgba(255, 255, 255, 0.15);
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.05);
}

body.dark-mode .upload-label {
  background: #9fc6ff;
}


/* -------------------
   Cards layout
   ------------------- */
.cards-container{
  display:flex; justify-content:center; align-items:flex-start;
  gap:40px; flex-wrap:wrap; margin-top:80px; padding:20px; box-sizing:border-box;
}

.card{
  background-color:var(--card-bg);
  border-radius:20px; padding:20px; width:220px; text-align:center;
  box-shadow:0 4px 10px rgba(11,43,74,0.06);
  transition: transform .2s, box-shadow .2s, background-color .25s ease;
}
.card:hover{ transform:translateY(-5px); box-shadow:0 6px 20px rgba(11,43,74,0.09); }

.card h2{ color:var(--accent-blue); font-size:18px; margin-bottom:15px; }

/* Botões primários (links e botões dentro dos cards) */
.card .hiragana-btn,
.card button,
.next-btn{
  display:block; width:100%;
  background-color:var(--button-primary); color:white; border:none;
  border-radius:25px; padding:10px 0; margin:8px 0; font-weight:bold; cursor:pointer;
  transition: background-color .22s ease, transform .12s ease; box-shadow:0 6px 14px rgba(92,140,210,0.12);
}
.card .hiragana-btn:hover,
.card button:hover,
.next-btn:hover{ background-color:var(--button-primary-hover); transform:translateY(-2px); }

.card p{ margin:5px 0; color:var(--text-primary); }
.card small{ display:block; margin-top:10px; color:var(--accent-blue); font-size:12px; }

/* ===== Unificar estilo de card, stats-box e test-area (mesmo visual) ===== */
.stats-box,
.test-area {
  /* Mesmos estilos base do .card para consistência */
  background-color: var(--card-bg);
  border-radius: 20px;
  padding: 20px;
  box-shadow: 0 6px 16px rgba(11,43,74,0.08);
  color: var(--text-primary);
  transition: background-color 0.25s ease, color 0.25s ease, box-shadow 0.25s ease;
  border: none;
}

/* No modo escuro, usar versões específicas (mais visíveis que o fundo) */
body.dark-mode .stats-box,
body.dark-mode .test-area {
  background-color: var(--dark-card);
  color: var(--dark-text);
  border-radius: 20px;
  padding: 20px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.45);
  border: 1px solid rgba(255,255,255,0.03);
}

/* -------------------
   Hiragana/Katakana page layout
   ------------------- */
.main-container{ display:flex; justify-content:center; align-items:flex-start; gap:40px; margin-top:40px; padding:20px; box-sizing:border-box; }

.stats-box, .test-area, .card{ transition: background-color .25s ease, color .25s ease; }

.stats-box, .test-area{ width:200px; text-align:left; }

.test-area .test-btn{
  display:block; width:100%; border-radius:20px; padding:10px 0; margin:8px 0;
  border:2px solid rgba(110,156,255,0.45); background:transparent; color:var(--accent-blue); font-weight:bold;
  cursor:pointer; transition: background .2s ease, transform .12s ease;
}
.test-area .test-btn:hover{ background-color: rgba(110,156,255,0.12); color:white; transform:translateY(-2px); }

.character{ font-size:80px; margin:30px 0; color:var(--text-primary); }

input{
  background:white; color:var(--text-primary); border-radius:20px; padding:10px;
  width:80%; text-align:center; margin-bottom:10px; border:2px solid rgba(11,43,74,0.07);
  box-shadow:0 4px 8px rgba(11,43,74,0.04); transition: background .2s ease;
}

/* -------------------
   Back button
   ------------------- */
/* Botão de voltar posicionado 10px abaixo da logo-area (mais robusto que bottom:-65px) */
.back-btn {
  position: absolute;
  top: calc(100% + 10px); /* 10px abaixo do final da logo-area */
  left: 8px;               /* ajuste horizontal conforme quiser */
  background-color: white;
  color: var(--button-primary);
  border: none;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  font-size: 24px;
  font-weight: bold;
  text-align: center;
  line-height: 40px;
  text-decoration: none;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  transition: transform 0.15s ease, background-color 0.15s ease;
  z-index: 10; /* garante que fique acima dos cards */
}

.back-btn:hover {
  transform: scale(1.07);
  background-color: #f0f7ff;
}

/* Ajuste para mobile: reduz a distância vertical e move o botão se necessário */
@media (max-width: 600px) {
  .back-btn {
    top: calc(100% + 6px);
    left: 6px;
    width: 36px;
    height: 36px;
    font-size: 20px;
    line-height: 36px;
  }
}
/* -------------------
   Dark mode: overrides
   ------------------- */
/* ======== Modo Escuro ======== */
body.dark-mode {
  background-color: #121212;
  color: #f0f0f0;
}

/* Corrige cards no modo escuro */
body.dark-mode .card {
  background-color: #1e1e1e;
  color: #f0f0f0;
  border: 1px solid #2c2c2c;
}

/* Corrige o card interno do treino */
body.dark-mode .training-card {
  background-color: #252525;
  color: #fff;
  border: 1px solid #333;
}

/* Corrige texto de perguntas/respostas no modo escuro */
body.dark-mode .training-card h2,
body.dark-mode .training-card p,
body.dark-mode .training-card span {
  color: #f5f5f5;
}

/* Corrige botões (remove quadrado feio) */
button,
.icon-btn {
  background: none;
  border: none;
  outline: none;
  cursor: pointer;
}

/* Ícones do sol/lua */
.icon-btn img {
  width: 26px;
  height: 26px;
  transition: transform 0.4s ease;
}

/* Efeito de rotação ao clicar */
.icon-btn:active img {
  transform: rotate(180deg);
}

/* Corrige botão de entrar */
button.entrar-btn {
  background: #0078ff;
  border: none;
  color: #fff;
  padding: 10px 20px;
  border-radius: 10px;
  cursor: pointer;
  transition: 0.3s;
}

button.entrar-btn:hover {
  background: #005fcc;
  transform: scale(1.05);
}

/* Corrige botão no modo escuro */
body.dark-mode button.entrar-btn {
  background: #3b82f6;
}

body.dark-mode button.entrar-btn:hover {
  background: #2563eb;
}

/* ======== Tooltip (significado do kanji) ======== */
.w {
  position: relative;
  cursor: help;
  border-bottom: 1px dashed #999;
}

.w::after {
  content: attr(data-mean);
  position: absolute;
  bottom: 120%;
  left: 50%;
  transform: translateX(-50%);
  background: #333;
  color: #fff;
  padding: 4px 8px;
  border-radius: 6px;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease;
  font-size: 0.9em;
}

.w:hover::after {
  opacity: 1;
}

/* Tooltip modo claro */
body:not(.dark-mode) .w::after {
  background: #fff;
  color: #000;
  border: 1px solid #ccc;
}

/* -------------------
   Responsividade
   ------------------- */
.cards-container{ gap:20px; padding:20px; box-sizing:border-box; }
.card{ width:100%; max-width:320px; box-sizing:border-box; }
.main-container{ padding:20px; box-sizing:border-box; }
@media (max-width:880px){
  .main-container{ flex-direction:column; align-items:center; }
  .stats-box, .test-area{ width:100%; max-width:360px; }
  .card.hiragana-card{ width:100%; max-width:480px; }
}
@media (max-width:600px){
  .top-bar{ flex-direction:column; height:auto; gap:8px; align-items:flex-start; padding:10px; }
  .logo-area h1{ font-size:18px; }
  .menu-area{ align-self:flex-end; }
}
input, .card button, .card .hiragana-btn, .test-area .test-btn, .next-btn{ min-height:44px; width:100%; box-sizing:border-box; }
input#answer, input#test-answer{ width:100%; max-width:100%; padding:12px; font-size:1rem; }
.character{ font-size:clamp(48px,8vw,120px); line-height:1; text-align:center; }
body, html{ max-width:100%; overflow-x:hidden; }

/* -------------------
   Dark mode button visuals & animations
   - Colar ESTE BLOCO NO FINAL do arquivo (já incluído aqui)
   ------------------- */
#dark-mode-toggle,
.dark-btn{
  background:transparent !important; border:none !important; padding:6px;
  display:inline-flex; align-items:center; justify-content:center; color:inherit; font-size:20px; cursor:pointer;
  border-radius:6px; transition: transform .4s cubic-bezier(.2,.9,.3,1), color .25s ease, background-color .25s ease;
  box-shadow:none !important; outline:none;
}
#dark-mode-toggle:hover, .dark-btn:hover{ transform:scale(1.06); background-color: rgba(255,255,255,0.03); }

@keyframes dm-spin{ from{ transform:rotate(0deg); } to{ transform:rotate(360deg);} }
.dark-btn.spin, #dark-mode-toggle.spin{ animation: dm-spin .6s cubic-bezier(.2,.9,.3,1); }

body, .top-bar, .card, .stats-box, .test-area, .character, input, button{
  transition: background-color .35s ease, color .35s ease, box-shadow .25s ease, transform .25s ease;
}
/* ===== Remover/padronizar overlay de troca de modo (resolve "piscar" / sumiço de texto) =====
   Substitua qualquer bloco body::before / body.mode-switching::before existente por este.
*/
body::before {
  content: "";
  pointer-events: none;
  position: fixed;
  inset: 0;
  background: transparent; /* sem overlay que afete conteúdo */
  transition: none; /* sem transição que possa esconder texto */
  z-index: 0; /* atrás do conteúdo */
}

/* Mantemos a classe mode-switching apenas para um efeito sutil, sem cobrir conteúdos.
   Se quiser um flash rápido, usar opacidade muito baixa e z-index negativo */
body.mode-switching::before {
  background: transparent;
  opacity: 0;
  transition: none;
}
/* -------------------
   Legibilidade extra (dark mode) - "Vezes feitas" e spans
   ------------------- */
/* Se o texto estiver muito apagado no dark, este bloco garante contraste */
body.dark-mode .card p{ color: rgba(255,255,255,0.92) !important; }
body.dark-mode .card p span{ color:#ffffff !important; font-weight:600; }

/* ===== Ajuste de transições globais para evitar desaparecimento de texto ===== */
/* Evite transicionar 'color' globalmente em containers que podem afetar textos.
   Use transições apenas em background-color, box-shadow e transform. */
body,
.top-bar,
.card,
.stats-box,
.test-area,
input,
button {
  transition: background-color 0.35s ease, box-shadow 0.25s ease, transform 0.25s ease;
  /* removemos transition de 'color' aqui para evitar flicker */
}

/* Se quiser animar o texto (titles) use uma regra específica */
.card h2,
.logo-area h1 {
  transition: color 0.25s ease;
}

/* End of style.css */
